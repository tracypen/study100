#### 缓存雪崩

> 系统缓存因某种原因大量失效导致请求全部堆压到后台服务，从而导致下游服务也出现故障

解决办法：

1. 搭建redis高可用集群
2. 实现多级缓存、进行系统限流
3. 设置随机过期时间，避免大量缓存同一时间过期
4. 设置redis持久化策略，保证数据可恢复

#### 缓存穿透

> 指存在恶意攻击行为，故意访问系统不存在的key，从而跳过缓存直接对数据库进行访问，再大量请求下最终导致数据路性能下降，甚至故障。

解决办法：

1. 降不存在的key也添加到缓存中，并设置较短的过期时间

2. 采用布隆过滤器进行拦截(概率性)

#### 缓存击穿

> 热点key失效的瞬间导致大量请求过来直接访问数据库

解决办法：

1. 热点数据永不过期
2. 加锁保证缓存过期后只有少量请求数据库，并重新构建缓存，其他请求需要阻塞等待(适用于更新缓存不是特别耗时的场景)
3. 对于频繁更新的热点数据，可以考虑适当的牺牲一致性，采用定时任务异步构建缓存，并延长缓存过期时间，从而保证一直可以访问到缓存的数据。



